---
applications:
- name: backend
  memory: 1024M
  path: backend/target/backend-0.0.1-SNAPSHOT.jar
  buildpack: java_buildpack
  no-route: true
  instances: 2
  services:
  - service-registry
  - config-server
  - rabbitmq
  env:
    TRUST_CERTS: api.run.pivotal.io

- name: frontend
  memory: 1024M
  path: frontend/target/frontend-0.0.1-SNAPSHOT.jar
  buildpack: java_buildpack
  no-route: true
  instances: 2
  services:
  - service-registry
  - circuit-breaker
  - config-server
  - rabbitmq
  env:
    TRUST_CERTS: api.run.pivotal.io

- name: gateway
  random-route: true
  memory: 1024M
  path: gateway/target/gateway-0.0.1-SNAPSHOT.jar
  buildpack: java_buildpack
  instances: 2
  services:
  - service-registry
  - config-server
  - rabbitmq
  env:
    TRUST_CERTS: api.run.pivotal.io

- name: ui
  memory: 1024M
  path: ui/target/ui-0.0.1-SNAPSHOT.jar
  buildpack: java_buildpack
  no-route: true
  instances: 2
  services:
  - service-registry
  - config-server
  - rabbitmq
  env:
    TRUST_CERTS: api.run.pivotal.io
